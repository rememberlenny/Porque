
var $item,
    $this,
    that,
    clickedChoice,
    response = {
      holder:       '',
      textcontent:  '',
      nextquestion: ''
    },
    buttonChecked = false;

$('.answer-choice').on('click', function(){
  that = this;
  removeAllClickHandles();
  addClickPointer(that);
  if($(that).hasClass('clicked')){
    disableSubmitButton();
  }
  enableSubmitButton();
  setUpResponseModal();
});

$('input[type=submit]').on('click', function(){
  passClickedToSave();
  checkForClicked();
});

function enableSubmitButton(){
  if( buttonChecked === false ){
    buttonChecked = true;
  }
  if( buttonChecked === true ){
    $('input[type=submit]').removeAttr('disabled');
  }
}

function disableSubmitButton(){
  if( buttonChecked === true ){
    buttonChecked = false;
  }
  if( buttonChecked === false ){
    $('input[type=submit]').attr('disabled');
  }
}

function checkForClicked(){
  $('.answer-choice').each(function(i, item){
    if( $item.hasClass('clicked') ){
      clickedChoice = $item.attr('id');
    }
  });
}

function passClickedToSave(){
  clickedChoice;
}

function removeAllClickHandles(){
  $('.answer-choice').each(function(i, item){
    $item = $(item);
    if( $item.hasClass('clicked') ){
      $item.removeClass('clicked');
    }
  });
}

function addClickPointer(that){
  $this = $(that);
  $this.addClass('clicked');
}

function setUpResponseModal(){
  response.holder       = $('.clicked')[0];
  response.textcontent  = $(response.holder).find('.answer-response-holder').html();
  response.nextquestion = $(response.holder).find('.answer-response-holder').data('response');
}
